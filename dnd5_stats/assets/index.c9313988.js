import{d as U,a as y,r as g,w as C,o as c,c as d,b as s,e as T,f as w,v as q,F as S,g as A,u as l,t as p,p as L,h as $,i as G,j as P,k as X,l as Y,m as k,n as B,q as b,s as M,x as V,y as Z,z as uu}from"./vendor.e6780e62.js";const eu=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerpolicy&&(a.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?a.credentials="include":t.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(t){if(t.ep)return;t.ep=!0;const a=r(t);fetch(t.href,a)}};eu();const z={bard:{name:"\u0411\u0430\u0440\u0434",hitDice:8},barbarian:{name:"\u0412\u0430\u0440\u0432\u0430\u0440",hitDice:12},fighter:{name:"\u0412\u043E\u0438\u043D",hitDice:10},wizard:{name:"\u0412\u043E\u043B\u0448\u0435\u0431\u043D\u0438\u043A",hitDice:6},druid:{name:"\u0414\u0440\u0443\u0438\u0434",hitDice:8},cleric:{name:"\u0416\u0440\u0435\u0446",hitDice:8},warlock:{name:"\u041A\u043E\u043B\u0434\u0443\u043D",hitDice:8},monk:{name:"\u041C\u043E\u043D\u0430\u0445",hitDice:8},paladin:{name:"\u041F\u0430\u043B\u0430\u0434\u0438\u043D",hitDice:10},rogue:{name:"\u041F\u043B\u0443\u0442",hitDice:8},ranger:{name:"\u0421\u043B\u0435\u0434\u043E\u043F\u044B\u0442",hitDice:10},sorcerer:{name:"\u0427\u0430\u0440\u043E\u0434\u0435\u0439",hitDice:6}},j=U({id:"charClass",state:()=>({charClass:"fighter"}),actions:{setCharClass(u){this.charClass=u}},getters:{charHitDice:u=>z[u.charClass].hitDice}});var x=(u,e)=>{const r=u.__vccOpts||u;for(const[n,t]of e)r[n]=t;return r};const tu=u=>(L("data-v-e3bac8da"),u=u(),$(),u),su={class:"pageBlock charClass"},au={class:"blockTitle"},nu={class:"blockBody"},ou=["value"],iu=tu(()=>s("span",{class:"arrow"},"\u2192",-1)),ru={class:"hitDice",title:"\u0411\u0430\u0437\u043E\u0432\u043E\u0435 \u043A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u0445\u0438\u0442\u043F\u043E\u0439\u043D\u0442\u043E\u0432"},lu=y({setup(u){const e=j(),r=g("fighter");return C(r,n=>{e.setCharClass(n)}),(n,t)=>(c(),d("div",su,[s("div",au,[T(n.$slots,"default",{},void 0,!0)]),s("div",nu,[w(s("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>r.value=a)},[(c(!0),d(S,null,A(l(z),(a,o)=>(c(),d("option",{key:o,value:o},p(a.name),9,ou))),128))],512),[[q,r.value]]),iu,s("span",ru,"HP: "+p(l(e).charHitDice),1)])]))}});var cu=x(lu,[["__scopeId","data-v-e3bac8da"]]);function du(u=_u){const e=[];for(let r=0;r<6;++r)e.push(u());return e}function _u(){let u=[];for(let e=0;e<4;++e)u.push(Math.floor(Math.random()*6+1));return u=vu(u),u[0]+u[1]+u[2]}function vu(u){const e=[...u],r=Math.min(...e),n=e.findIndex(t=>t==r);return e.splice(n,1),e}const O={str:"\u0421\u0438\u043B\u0430",dex:"\u041B\u043E\u0432\u043A\u043E\u0441\u0442\u044C",con:"\u0422\u0435\u043B\u043E\u0441\u043B\u043E\u0436\u0435\u043D\u0438\u0435",int:"\u0418\u043D\u0442\u0435\u043B\u043B\u0435\u043A\u0442",wis:"\u041C\u0443\u0434\u0440\u043E\u0441\u0442\u044C",cha:"\u0425\u0430\u0440\u0438\u0437\u043C\u0430"};function K(u){return u in O?O[u]:u}const F=30,I=U({id:"stats",state:()=>({generatedValues:[0,0,0,0,0,0],stats:{str:0,dex:0,con:0,int:0,wis:0,cha:0},dataToStatsLinks:{0:null,1:null,2:null,3:null,4:null,5:null}}),actions:{resetStatsLinks(){for(const u in this.dataToStatsLinks)this.dataToStatsLinks[u]=null},setStatValue(u,e){this.stats[u]=e},setValueLink(u,e){if(u<0||u>5)return 0;this.dataToStatsLinks[u]=e},setGeneratedValue(u,e){if(e<1||e>F)throw"\u041D\u0435\u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u043E\u0435 \u0441\u043E\u0445\u0440\u0430\u043D\u044F\u0435\u043C\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435. \u0425\u0430\u0440\u0430\u043A\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043A\u0430 \u0434\u043E\u043B\u0436\u043D\u0430 \u0431\u044B\u0442\u044C \u0432 \u043F\u0440\u0435\u0434\u0435\u043B\u0430\u0445 \u043E\u0442 1 \u0434\u043E 20";this.generatedValues[u]=e}},getters:{isAllFieldsLinked:u=>{for(const e in u.dataToStatsLinks)if(u.dataToStatsLinks[e]===null)return!1;return!0}}});var D=(u=>(u.ResetStatsStore="ResetStatsStore",u.LoadValuesToCharlist="LoadValuesToCharlist",u.AutoLinkStats="AutoLinkStats",u))(D||{});function R(u){window.dispatchEvent(new Event(u))}const W=u=>(L("data-v-2b2eb02a"),u=u(),$(),u),hu={class:"valueLink"},pu=["max"],mu=W(()=>s("span",{class:"arrow"},"\u2192",-1)),fu=W(()=>s("option",null,"-",-1)),Du=["value","disabled"],Eu=y({props:{value:{type:Number,required:!0,validator:u=>u>0&&u<=F},valueIndex:{type:Number,required:!0,validator:u=>u>=0&&u<6}},setup(u){const e=u,r={0:"str",1:"dex",2:"con",3:"int",4:"wis",5:"cha"},n=I(),t=[];let a;for(a in O)t.push(a);const o=g(0);o.value=e.value,C(()=>e.value,h=>{o.value=h}),C(o,(h,m)=>{!h||h<1||h>F?o.value=m:n.setGeneratedValue(e.valueIndex,o.value)});const _=g("-");G(()=>{n.setGeneratedValue(e.valueIndex,o.value),window.addEventListener(D.ResetStatsStore,i),window.addEventListener(D.AutoLinkStats,v)}),P(()=>{window.removeEventListener(D.ResetStatsStore,i),window.removeEventListener(D.AutoLinkStats,v)}),C(_,h=>{n.setValueLink(e.valueIndex,h==="-"?null:h)});function i(){_.value="-",n.setValueLink(e.valueIndex,null)}function v(){_.value=r[e.valueIndex]}function f(h){if(h==="-")return!1;for(const m in n.dataToStatsLinks)if(n.dataToStatsLinks[m]===h)return!0;return!1}return(h,m)=>(c(),d("div",hu,[w(s("input",{"onUpdate:modelValue":m[0]||(m[0]=E=>o.value=E),type:"number",min:"1",max:l(F)},null,8,pu),[[X,o.value,void 0,{number:!0}]]),mu,w(s("select",{"onUpdate:modelValue":m[1]||(m[1]=E=>_.value=E)},[fu,(c(),d(S,null,A(t,E=>s("option",{value:E,key:E,disabled:f(E)},p(l(K)(E)),9,Du)),64))],512),[[q,_.value]])]))}});var Cu=x(Eu,[["__scopeId","data-v-2b2eb02a"]]);const Su={class:"pageBlock charStats"},Bu={class:"blockTitle"},ku={class:"blockBody"},Au={class:"valuesToStats"},yu={class:"buttons"},xu=["disabled"],Fu=y({setup(u){const e=g([]),r=I();G(()=>{n()});function n(){e.value=du()}function t(){R(D.ResetStatsStore)}function a(){R(D.LoadValuesToCharlist)}function o(){R(D.AutoLinkStats)}return(_,i)=>(c(),d("div",Su,[s("div",Bu,[T(_.$slots,"default",{},void 0,!0)]),s("div",ku,[s("div",{class:"buttons asymmetric"},[s("input",{class:"fullWidth",type:"button",value:"\u{1F527} \u0421\u0433\u0435\u043D\u0435\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C",title:"\u0421\u0443\u043C\u043C\u0430 3 \u043D\u0430\u0438\u0431\u043E\u043B\u044C\u0448\u0438\u0445 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0439 \u043D\u0430 4 \u0431\u0440\u043E\u0448\u0435\u043D\u043D\u044B\u0445 \u043A\u0443\u0431\u0438\u043A\u0430\u0445 (3\u201318)",onClick:n}),s("input",{class:"short",type:"button",value:"\u2935\uFE0F",title:"\u0410\u0432\u0442\u043E\u043F\u0440\u0438\u0432\u044F\u0437\u043A\u0430",onClick:o})]),s("div",Au,[(c(!0),d(S,null,A(e.value,(v,f)=>(c(),Y(Cu,{value:v,"value-index":f,key:f},null,8,["value","value-index"]))),128))]),s("div",yu,[s("input",{type:"button",value:"\u{1F4DD} \u041F\u0440\u0438\u043C\u0435\u043D\u0438\u0442\u044C",onClick:a,disabled:!l(r).isAllFieldsLinked},null,8,xu),s("input",{type:"button",value:"\u267B\uFE0F \u0421\u0431\u0440\u043E\u0441\u0438\u0442\u044C",onClick:t})])])]))}});var gu=x(Fu,[["__scopeId","data-v-e887d092"]]);const J=U({id:"armor",state:()=>({armorClass:null,hasDisadvantage:!1,needMoreStrength:!1}),actions:{setArmorClass(u){this.armorClass=u},setDisadvantage(u){this.hasDisadvantage=u},setNeedMoreStrength(u){this.needMoreStrength=u}}});const N=u=>(L("data-v-56e3b5a4"),u=u(),$(),u),Lu={class:"pageBlock charList"},$u={class:"blockTitle"},bu={class:"blockBody"},Mu={class:"valueBlock"},Vu={class:"stats"},wu={class:"statValue"},Tu={key:0,class:"value"},Iu=B("("),Nu={title:"\u041F\u0440\u0438\u043C\u0435\u043D\u044F\u0435\u043C\u044B\u0439 \u043C\u043E\u0434\u0438\u0444\u0438\u043A\u0430\u0442\u043E\u0440"},Ru=B(")"),Hu={key:0,class:"valueBlock"},Ou=N(()=>s("span",null,"\u0418\u043D\u0438\u0446\u0438\u0430\u0442\u0438\u0432\u0430:",-1)),Uu={class:"value"},qu={key:1,class:"valueBlock"},Gu=N(()=>s("span",{title:"\u0415\u0441\u043B\u0438 \u0432\u044B\u0431\u0440\u0430\u043D \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044E\u0449\u0438\u0439 \u043D\u0430\u0432\u044B\u043A, \u0434\u043E\u0431\u0430\u0432\u043B\u044F\u0435\u0442\u0441\u044F \u0431\u043E\u043D\u0443\u0441 \u043C\u0430\u0441\u0442\u0435\u0440\u0441\u0442\u0432\u0430"},"\u041F\u0430\u0441\u0441\u0438\u0432\u043D\u0430\u044F \u0432\u043D\u0438\u043C\u0430\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C:",-1)),Pu={class:"value"},zu={key:2,class:"valueBlock"},ju=["title"],Ku={class:"value"},Wu={class:"valueBlock"},Ju=N(()=>s("span",{title:"\u0417\u0430\u0432\u0438\u0441\u0438\u0442 \u043E\u0442 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u043E\u0433\u043E \u043A\u043B\u0430\u0441\u0441\u0430"},"\u041A\u043E\u0441\u0442\u044C \u0445\u0438\u0442\u043E\u0432:",-1)),Qu={class:"value"},Xu={key:3,class:"valueBlock"},Yu=N(()=>s("span",null,"\u041A\u043B\u0430\u0441\u0441 \u0434\u043E\u0441\u043F\u0435\u0445\u0430:",-1)),Zu={class:"value"},u4=y({setup(u){const e=I(),r=j(),n=J();G(()=>{window.addEventListener(D.LoadValuesToCharlist,t)}),P(()=>{window.removeEventListener(D.LoadValuesToCharlist,t)});function t(){const o=e.generatedValues,_=e.dataToStatsLinks;for(const i in _)_[i]!==null&&e.setStatValue(_[i],o[i])}function a(o){if(o<1||o>F)return null;const _=Math.ceil((o-11)/2);return _==0?"0":(Math.sign(_)>0?"+":"-")+Math.abs(_)}return(o,_)=>(c(),d("div",Lu,[s("div",$u,[T(o.$slots,"default",{},void 0,!0)]),s("div",bu,[s("div",Mu,[s("div",Vu,[(c(!0),d(S,null,A(l(e).stats,(i,v)=>(c(),d("div",{key:v},[s("span",null,p(l(K)(v))+":",1),s("span",wu,[B(p(i),1),a(i)!==null?(c(),d("span",Tu,[Iu,s("span",Nu,p(a(i)),1),Ru])):k("",!0)])]))),128))])]),a(l(e).stats.dex)!==null?(c(),d("div",Hu,[Ou,s("span",Uu,p(10+Number(a(l(e).stats.dex))),1)])):k("",!0),a(l(e).stats.wis)!==null?(c(),d("div",qu,[Gu,s("span",Pu,p(10+Number(a(l(e).stats.wis))),1)])):k("",!0),a(l(e).stats.con)!==null?(c(),d("div",zu,[s("span",{title:`\u0414\u043B\u044F \u043A\u0430\u0436\u0434\u043E\u0433\u043E \u043F\u043E\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0433\u043E \u0443\u0440\u043E\u0432\u043D\u044F \u043D\u0443\u0436\u043D\u043E \u0431\u0440\u043E\u0441\u0430\u0442\u044C d${l(r).charHitDice} \u0438 \u043A \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u044E \u043F\u0440\u0438\u0431\u0430\u0432\u043B\u044F\u0442\u044C ${Number(a(l(e).stats.con))}`},"\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u0445\u0438\u0442\u043E\u0432:",8,ju),s("span",Ku,p(l(r).charHitDice+Number(a(l(e).stats.con))),1)])):k("",!0),s("div",Wu,[Ju,s("span",Qu,"d"+p(l(r).charHitDice),1)]),l(n).armorClass!==null&&!l(n).needMoreStrength&&l(e).stats.str?(c(),d("div",Xu,[Yu,s("span",Zu,p(l(n).armorClass),1)])):k("",!0)])]))}});var e4=x(u4,[["__scopeId","data-v-56e3b5a4"]]);const H={"\u041B\u0451\u0433\u043A\u0438\u0439 \u0434\u043E\u0441\u043F\u0435\u0445":[{type:0,name:"\u0421\u0442\u0451\u0433\u0430\u043D\u044B\u0439 \u0434\u043E\u0441\u043F\u0435\u0445",AC:11,useDexModifier:!0,stealthDisadvantage:!0},{type:1,name:"\u041A\u043E\u0436\u0430\u043D\u044B\u0439 \u0434\u043E\u0441\u043F\u0435\u0445",AC:11,useDexModifier:!0},{type:2,name:"\u041F\u0440\u043E\u043A\u043B\u0451\u043F\u0430\u043D\u043D\u0430\u044F \u043A\u043E\u0436\u0430",AC:12,useDexModifier:!0}],"\u0421\u0440\u0435\u0434\u043D\u0438\u0439 \u0434\u043E\u0441\u043F\u0435\u0445":[{type:3,name:"\u0428\u043A\u0443\u0440\u043D\u044B\u0439 \u0434\u043E\u0441\u043F\u0435\u0445",AC:12,useDexModifier:!0,maximumDexModifier:2},{type:4,name:"\u041A\u043E\u043B\u044C\u0447\u0443\u0436\u043D\u0430\u044F \u0440\u0443\u0431\u0430\u0445\u0430",AC:13,useDexModifier:!0,maximumDexModifier:2},{type:5,name:"\u0427\u0435\u0448\u0443\u0439\u0447\u0430\u0442\u044B\u0439 \u0434\u043E\u0441\u043F\u0435\u0445",AC:14,useDexModifier:!0,maximumDexModifier:2,stealthDisadvantage:!0},{type:6,name:"\u041A\u0438\u0440\u0430\u0441\u0430",AC:14,useDexModifier:!0,maximumDexModifier:2},{type:7,name:"\u041F\u043E\u043B\u0443\u043B\u0430\u0442\u044B",AC:15,useDexModifier:!0,stealthDisadvantage:!0,maximumDexModifier:2}],"\u0422\u044F\u0436\u0451\u043B\u044B\u0439 \u0434\u043E\u0441\u043F\u0435\u0445":[{type:8,name:"\u041A\u043E\u043B\u0435\u0447\u043D\u044B\u0439 \u0434\u043E\u0441\u043F\u0435\u0445",AC:14,stealthDisadvantage:!0},{type:9,name:"\u041A\u043E\u043B\u044C\u0447\u0443\u0433\u0430",AC:16,minimumStr:13,stealthDisadvantage:!0},{type:10,name:"\u041D\u0430\u0431\u043E\u0440\u043D\u044B\u0439 \u0434\u043E\u0441\u043F\u0435\u0445",AC:17,minimumStr:15,stealthDisadvantage:!0},{type:11,name:"\u041B\u0430\u0442\u044B",AC:18,minimumStr:15,stealthDisadvantage:!0}]};const t4=u=>(L("data-v-3ff94300"),u=u(),$(),u),s4={class:"pageBlock armor"},a4={class:"blockTitle"},n4={class:"blockBody"},o4=["title"],i4=t4(()=>s("option",null,"-",-1)),r4=["label"],l4=["value"],c4={key:0,class:"alert"},d4=y({setup(u){const e=I(),r=J(),n=g("-"),t=b(()=>{if(n.value=="-")return null;for(const i in H){const v=H[i].find(f=>f.type==n.value);if(v)return v}return null}),a=b(()=>{if(!t.value)return null;const i=t.value.AC;let v=0;return t.value.useDexModifier&&(v=Math.ceil((e.stats.dex-11)/2),t.value.maximumDexModifier&&(v=Math.min(v,t.value.maximumDexModifier))),i+v});C(a,i=>{r.setArmorClass(i)}),C(t,i=>{if(i===null)return 0;r.setDisadvantage(!!i.stealthDisadvantage)});const o=b(()=>e.stats.str>0&&t.value!==null&&t.value!==void 0&&t.value.minimumStr!==void 0&&e.stats.str<t.value.minimumStr);C(o,i=>{r.setNeedMoreStrength(i)});const _=b(()=>{if(!t.value)return"";let i=t.value.AC.toString();return t.value.useDexModifier&&(i+=" + \u043B\u043E\u0432\u043A\u043E\u0441\u0442\u044C",t.value.maximumDexModifier!==void 0&&(i+=` (\u043C\u0430\u043A\u0441. ${t.value.maximumDexModifier})`)),i});return(i,v)=>(c(),d("div",s4,[s("div",a4,[T(i.$slots,"default",{},void 0,!0)]),s("div",n4,[w(s("select",{"onUpdate:modelValue":v[0]||(v[0]=f=>n.value=f),title:l(_)},[i4,(c(!0),d(S,null,A(l(H),(f,h)=>(c(),d("optgroup",{label:h},[(c(!0),d(S,null,A(f,m=>(c(),d("option",{key:m.type,value:m.type},p(m.name),9,l4))),128))],8,r4))),256))],8,o4),[[q,n.value]]),l(o)&&l(t)?(c(),d("div",c4,"\u2757\u041D\u0443\u0436\u043D\u043E "+p(l(t).minimumStr)+" \u0441\u0438\u043B\u044B",1)):k("",!0)])]))}});var _4=x(d4,[["__scopeId","data-v-3ff94300"]]);const v4=u=>(L("data-v-21aa9155"),u=u(),$(),u),h4=v4(()=>s("header",null,[s("h1",null,"\u0413\u0435\u043D\u0435\u0440\u0430\u0446\u0438\u044F \u0445\u0430\u0440\u0430\u043A\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043A \u043F\u0435\u0440\u0441\u043E\u043D\u0430\u0436\u0430 \u043D\u0430 \u043F\u0435\u0440\u0432\u043E\u043C \u0443\u0440\u043E\u0432\u043D\u0435 (D&D 5e)")],-1)),p4={class:"blocksArea"},m4=B("\u{1F9CD} \u041A\u043B\u0430\u0441\u0441 \u043F\u0435\u0440\u0441\u043E\u043D\u0430\u0436\u0430"),f4=B("\u{1F6E1}\uFE0F \u041D\u0430\u0434\u0435\u0442\u0430\u044F \u0431\u0440\u043E\u043D\u044F"),D4=B("\u{1F3B2} \u0427\u0438\u0441\u043B\u043E\u0432\u044B\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u044F"),E4=B("\u{1F4CE} \u0425\u0430\u0440\u0430\u043A\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043A\u0438 \u043F\u0435\u0440\u0441\u043E\u043D\u0430\u0436\u0430"),C4=y({setup(u){return(e,r)=>(c(),d(S,null,[h4,s("div",p4,[M(cu,null,{default:V(()=>[m4]),_:1}),M(_4,null,{default:V(()=>[f4]),_:1}),M(gu,null,{default:V(()=>[D4]),_:1}),M(e4,null,{default:V(()=>[E4]),_:1})])],64))}});var S4=x(C4,[["__scopeId","data-v-21aa9155"]]);const Q=Z(S4);Q.use(uu());Q.mount("#app");
